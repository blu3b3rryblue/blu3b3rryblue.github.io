<!DOCTYPE html>

<html lang="fr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Power | Nadia Mariyan Smith</title>
	<meta name="description" content="This is a solar-powered website, which means it sometimes goes offline">
	<meta name="author" content="Nadia Mariyan Smith">

	<link rel="icon" href="//localhost:1313/icons/sun.svg">

	
	<link rel="stylesheet" href="//localhost:1313/css/style.css"><meta property="og:title" content="Power" />
<meta name="twitter:title" content="Power"/>

<meta property="og:description" content="This website runs on a solar powered server located in Barcelona, and will go off-line during longer periods of bad weather. This page shows live data relating to power supply, power demand, and energy storage." />

<meta name="twitter:description" content="This website runs on a solar powered server located in Barcelona, and will go off-line during longer periods of bad weather. This page shows live data relating to power supply, power demand, and energy storage."/>

<meta property="og:type" content="article" />
<meta property="og:url" content="//localhost:1313/fr/power/" />



<meta property="og:image" itemprop="image" content="//localhost:1313/fr/power/images/dithers/solar-powered-server-weather-2_dithered.png" />
<meta property="og:image:secure_url" content="//localhost:1313/fr/power/images/dithers/solar-powered-server-weather-2_dithered.png" />
<meta property="og:image:type" content="image/png">
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="//localhost:1313/fr/power/images/dithers/solar-powered-server-weather-2_dithered.png"/>

<meta property="article:section" content="" />

<meta property="og:site_name" content="Nadia Mariyan Smith" />


<meta property="article:author" content="" />
<meta name="citation_author" content="">


</head>
<body id="power">
	<div class="battery_bg">
	<div id="battery_data" class="bat_status" data-charging="no">
	  <a href="//localhost:1313/fr/power/" title="Power">
	    <span id="charge_icon">
	      <svg class="icon battery-svg" viewBox="0 0 500 500"><title>Battery used</title><polygon class="svg_stroke" points="327.01 127.16 327.01 47.31 172.99 47.31 172.99 127.16 115.52 127.16 115.52 452.69 384.48 452.69 384.48 127.16 327.01 127.16"/><polygon class="svg_fill" points="357.64 408.86 158.26 408.86 158.26 209.49 357.64 408.86"/></svg>
	      
	      <svg class="icon sun-svg" viewBox="0 0 500 500"><title>Battery charging</title><circle class="svg_fill" cx="248.48" cy="252.55" r="97.03"/><rect class="svg_fill" x="234.53" y="17.45" width="27.9" height="112.39"/><rect class="svg_fill" x="234.53" y="375.25" width="27.9" height="112.39"/><rect class="svg_fill" x="413.42" y="196.35" width="27.9" height="112.39" transform="translate(679.92 -174.83) rotate(90)"/><rect class="svg_fill" x="55.63" y="196.35" width="27.9" height="112.39" transform="translate(322.12 182.97) rotate(90)"/><rect class="svg_fill" x="361.03" y="69.85" width="27.9" height="112.39" transform="translate(198.96 -228.23) rotate(45)"/><rect class="svg_fill" x="108.03" y="322.85" width="27.9" height="112.39" transform="translate(303.75 24.77) rotate(45)"/><rect class="svg_fill" x="361.03" y="322.85" width="27.9" height="112.39" transform="translate(908.15 381.93) rotate(135)"/><rect class="svg_fill" x="108.03" y="69.85" width="27.9" height="112.39" transform="translate(297.35 128.93) rotate(135)"/></svg>
	    </span>
	    <span id="level"></span></a>
	</div>
	<div id="battery">
	</div>
</div>
	<header class="site-header">
  <h1><a id="top" href="//localhost:1313/fr/">Nadia Mariyan Smith</a></h1>
  <div class="subtitle">
     <a href="//localhost:1313/fr/power">Ce site fonctionne à l’énergie solaire, et se retrouve parfois hors-ligne      
    </a>
  </div>
  <nav id="menu">
    <div id="menu-s">
        

        <span id="m-btn">menu</span>
    </div>
    <ul id="menu-list">
        
        
        <li class="">
            <a href="//localhost:1313/fr/about/" data-nav="about" >
                <span>À propos</span>
            </a>
        </li>
        
        <li class="">
            <a href="/photography/" data-nav="photography" >
                <span>Photography</span>
            </a>
        </li>
        
        <li class="">
            <a href="/design/" data-nav="design" >
                <span>Design</span>
            </a>
        </li>
        
        <li class="">
            <a href="/publications/" data-nav="publications" >
                <span>Publications</span>
            </a>
        </li>
        

        <li class="rss">
            <a href="mailto:nadiamariyan@gmail.com">
                <svg viewBox="0 0 24 24" class="icon">
                    <title>Email</title>
                    <path d="M1,5v14h22V5H1z M21,6.5l-9,6.3L3,6.5V6h18V6.5z"/>
                </svg>
            </a>
            <a href="https://www.linkedin.com/in/nadia-mariyan-smith" target="_blank">
                <svg viewBox="0 0 24 24" class="icon"><title>LinkedIn</title>
                    <path d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5zM0 8h5v16H0V8zm7.5 0h4.7v2.5h.07c.65-1.2 2.24-2.5 4.6-2.5 4.9 0 5.8 3.2 5.8 7.4V24h-5v-6.8c0-1.6-.03-3.6-2.2-3.6s-2.5 1.7-2.5 3.5V24h-5V8z"/>
                </svg>
            </a>
        </li>
    </ul>
</nav>

 
</header>

	

<main class='article '>

	<article>
		<section id="content" class="article">
			<header class="entry-header">
				
				<h1 class="entry-title">
				Power</h1>
				
				
    			<p class="summary">This website runs on a <a href="/fr/about/the-solar-website" >solar powered server</a> located in Barcelona, and will go off-line during longer periods of bad weather. This page shows live data relating to power supply, power demand, and energy storage.</p>
				

				<div class="metadata">
					
					
						
					
					
				</div>
			</header>

			<div class="entry-content"><h2 id="power-supply">Power supply</h2>
<p>This is a forecast for the coming days, updated daily:</p>
<p class="forecast">
</p>
<p>This weather forecast is <a href="https://brightsky.dev/" target="_blank" >powered by BrightSky</a>.</p>
<h2 id="power-demand">Power demand</h2>
<p>These are live power statistics of the solar powered server:</p>
<dl id="server">
</dl>
<p>(* load average per 15 minutes)</p>
<h2 id="battery-meter">Battery meter</h2>
<p>The background of this website is a battery meter, designed to always display the relationship of the energy powering the website and the visitor traffic consuming it. Since 12 January 2020, the website runs on a 30W solar panel and a 168 Wh lead-acid battery.</p>
<p>We also installed a new battery meter, which simply represents the voltage of our battery. For example, a storage capacity of 68% converts to 12.68V, and the other way around. Showing a correct representation of the storage capacity requires calibration and algorithms in relation to a specific battery. This is troublesome, because we <a href="" >keep experimenting with different sizes of batteries and solar panels</a> to find the optimal balance between uptime and sustainability.</p>
<p>The voltage reading is the &ldquo;naked&rdquo; data on which each battery meter relies to display a percentage. The voltage of the battery doesn&rsquo;t always correlate with the energy storage capacity &ndash; it&rsquo;s also influenced by the electric load (which lowers the voltage) and the solar insolation (which increases the voltage).</p>
<p>Because our load (the server) has a rather constant power use, during the day our battery meter reflects the local solar conditions. If the panel receives full sun, the voltage will most likely raise above 13V, colouring the whole website in yellow. However, if it&rsquo;s cloudy enough, the battery meter will decrease and the blue background is revealed.</p>
<p>Because our load is constant, during the night the battery meter reflects the storage capacity of the battery accurately. When the voltage of the battery drops below 12V, and the whole page is coloured in blue, the solar charge controller shuts down the system and the website goes offline.</p>
<div class="article-img ">
<figure data-imgstate="dither">
<img src="" alt='The accessibility of this website depends on the weather in Barcelona, Spain.' data-original="//localhost:1313/power/images/solar-powered-server-weather-2_hu_1e745374efc5123c.webp" data-dither="" loading="lazy"/> </figure>
<div class="figure-controls">
<figcaption class="caption">
<p>The accessibility of this website depends on the weather in Barcelona, Spain. <svg class="dither-toggle icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
<rect class="svg_fill" x="13.51" y="13.58" width="24.28" height="24.28"/><rect class="svg_fill" x="37.93" y="37.86" width="24.28" height="24.28"/><rect class="svg_fill" x="62.21" y="13.58" width="24.28" height="24.28"/><rect class="svg_fill" x="13.51" y="62.14" width="24.28" height="24.28"/><rect class="svg_fill" x="62.21" y="62.14" width="24.28" height="24.28"/>
</svg></p>
<div class="imgindicator">
<span class="tooltip view-orig">
  Voir l&#39;original
</span>
<span class="tooltip view-dither">
  Voir la version compressée
</span>
</div>
</figcaption>
</div>
</div>

			</div>
			
			
			
			
			
		</section>

		
		

		<section id="reference">
			<div class="footnotes" role="doc-endnotes">
			
		</section>


		
		
		
	</article>
</main>

	<footer class="site-footer">
    <div id=page-size>Taille de la page: <span id="size-value"> $PLACEHOLDER</span></div>
    <div id=back-to-top><a id="" href="#top" title="Back to top"> ↑ </a></div>
    <h2>
        <a href="//localhost:1313/">Nadia Mariyan Smith</a>
    </h2>
    <div class="dashboard">
        <ul class="grid">
            <li>
                <h3>Server Stats</h3>
                <dl id="stats">
                </dl>
            </li>
            <li>
                <h3>Forecast</h3>
                <div class="forecast"></div>
            </li>
            <li>
                <h3>Info</h3>
                <div class="footer-links">
    <a href="//localhost:1313/fr/about">
  À propos
</a>
    <a href="//localhost:1313/fr/power">
  Power
</a>
    <a href="/privacy">
  Privacy Policy
</a>
</div>
            </li>
            <li>
                <h3>Contact</h3>
                <p>
                    &copy; Nadia Mariyan Smith<br> nadiamariyan [at] gmail [dot] com</p>

                <div class="social">
                    
                    
                    <a href="https://www.linkedin.com/in/nadia-mariyan-smith/" target="_blank">
                        <svg class="icon" viewBox="0 0 24 24">
                          <title>LinkedIn</title>
                          <path d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5zM0 8h5v16H0V8zm7.5 0h4.7v2.5h.07c.65-1.2 2.24-2.5 4.6-2.5 4.9 0 5.8 3.2 5.8 7.4V24h-5v-6.8c0-1.6-.03-3.6-2.2-3.6s-2.5 1.7-2.5 3.5V24h-5V8z"/>
                        </svg>
                      </a>
                      
                      <a href="https://mastodon.social/@nadiamariyan" target="_blank">
                        <svg class="icon" viewBox="0 0 24 24">
                          <title>Mastodon</title>
                          <path d="M22.5,7.9c0-4.88-1.94-6.31-1.94-6.31-3.99-1.46-7.09-1.78-8.65-1.77h-0.08c-1.56-0.01-4.67,0.32-8.65,1.77C3.44,1.59,1.5,3.02,1.5,7.9c0,0.96-0.02,2.1,0.01,3.31,0.22,5.16,1.54,8.52,6.12,9.95,1.83,0.49,3.4,0.6,4.67,0.52,2.3-0.13,3.58-0.82,3.58-0.82l-0.08-1.67s-1.64,0.53-3.49,0.47c-1.83-0.06-3.77-0.16-4.06-2.02-0.05-0.52-0.04-1.03-0.03-1.15c1.72,0.07,3.36,0.13,4.22,0.19c1.45,0.07,2.79-0.08,4.16-0.24c2.63-0.31,4.92-1.93,5.2-3.41C22.54,11.55,22.5,7.9,22.5,7.9Z"/>
                        </svg>
                      </a>
                      
                      <a href="https://www.instagram.com/nadiamariyan/" target="_blank">
                        <svg class="icon" viewBox="0 0 24 24">
                          <title>Instagram</title>
                          <path d="M7.5 2h9A5.5 5.5 0 0 1 22 7.5v9A5.5 5.5 0 0 1 16.5 22h-9A5.5 5.5 0 0 1 2 16.5v-9A5.5 5.5 0 0 1 7.5 2zm0 1.5A4 4 0 0 0 3.5 7.5v9A4 4 0 0 0 7.5 20.5h9a4 4 0 0 0 4-4v-9a4 4 0 0 0-4-4h-9zm9 2a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zm-4.5 1a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm0 1.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/>
                        </svg>
                      </a>
                      

                </div>
                

            </li>
        </ul>
    </div>
    <p style="text-align: center; font-size: 0.8rem; color: #666; margin-top: 1rem;">
      <a href="https://github.com/lowtechmag/solar_v2" target="_blank">Solar</a>
      is a Hugo theme designed for 
      <a href="https://solar.lowtechmagazine.com" target="_blank">Low-Tech Magazine</a>.
      It is an attempt to radically reduce the energy use the associated with accessing web content.
    </p>
</footer>

	<script src="//localhost:1313/js/script.js"></script>

	<script>
	const weather_ignore = ["snow", "sleet", "wind", "fog"];
	const weather_days = ["today", "tomorrow", "day after tomorrow"];
	let forecast = "";
	
	fetch("https://api.open-meteo.com/v1/forecast?latitude=43.65107&longitude=-79.347015&daily=weathercode&timezone=America%2FToronto")
	  .then(response => response.json())
	  .then(data => {
		const codes = data.daily.weathercode;
	
		for (let i = 0; i < 3; i++) {
		  let icon = getIconFromCode(codes[i]);
		  let label = weather_days[i];
		  forecast += `<span class="weather_day">${label}</span><span class="weather_icon ${icon}"></span><br>`;
		}
	
		document.querySelectorAll('.forecast').forEach(el => el.innerHTML = forecast);
	  });
	
	function getIconFromCode(code) {
	  if ([0, 1].includes(code)) return "clear-day";
	  if ([2, 3].includes(code)) return "partly-cloudy-day";
	  if ([45, 48].includes(code)) return "cloudy";
	  if ([51, 53, 55, 61, 63, 65].includes(code)) return "rain";
	  return "cloudy";
	}
	</script>	

</body>
</html>
